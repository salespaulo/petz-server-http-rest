<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<changeSet id="1-insert-test-user" author="paulosales"
		context="test">
		<comment>Inserting test user</comment>
		<insert tableName="users">
			<column name="username">test</column>
			<column name="password">$2a$10$eQLaImwX38P5MJmutg6lMea2glKrfssHNwdZMJFbgbenl5j2oM/uO</column> <!-- test -->
			<column name="roles">ADMIN</column>
			<column name="created_by">liquibase</column>
			<column name="created_at" valueDate="now()" />
		</insert>
		<rollback>
			<delete tableName="users">
				<where>
					<column name="username">test</column>
				</where>
			</delete>
		</rollback>
	</changeSet>

	<changeSet id="2_insert_test_user" author="paulosales"
		context="dev">
		<insert tableName="users">
			<column name="username">test2</column>
			<column name="password">$2a$10$eQLaImwX38P5MJmutg6lMea2glKrfssHNwdZMJFbgbenl5j2oM/uO
			</column> <!-- test -->
			<column name="roles">ADMIN</column>
		</insert>
	</changeSet>

	<changeSet id="3_insert_test_user" author="paulosales"
		context="dev">
		<insert tableName="users">
			<column name="username">test3</column>
			<column name="password">$2a$10$eQLaImwX38P5MJmutg6lMea2glKrfssHNwdZMJFbgbenl5j2oM/uO
			</column> <!-- test -->
			<column name="roles">ADMIN</column>
		</insert>
	</changeSet>

	<changeSet id="4-insert-oauth-client-finch" author="paulosales"
		context="test">
		<comment>Inserting internal finch client details in the context test</comment>
		<insert tableName="oauth_client_details">
			<column name="client_id">finch</column>
    		<column name="client_secret">finch</column>
			<column name="scope">openid</column>
			<column name="authorized_grant_types">password,authorization_code,refresh_token</column>
			<column name="access_token_validity">36000</column>
			<column name="refresh_token_validity">72000</column>
			<column name="autoapprove">true</column>
		</insert>
		<rollback>
			<delete tableName="oauth_client_details">
				<where>
					<column name="client_id">finch</column>
				</where>
			</delete>
		</rollback>
	</changeSet>
	
</databaseChangeLog>